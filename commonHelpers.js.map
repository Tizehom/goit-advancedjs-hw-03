{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_BGHVXS9HRJW6rgW9IQYtalpwpiOTRRwNlGFWeCidmk1cMnZOsP2CCA8I8oCDINU9';\n\nexport const displayError = (errorElement, loader) => {\n  if (errorElement && loader) {\n    errorElement.textContent =\n      'Oops! Something went wrong! Try reloading the page!';\n    errorElement.style.display = 'block';\n    loader.style.display = 'none';\n  } else {\n    console.error('Error element or loader is not defined.');\n  }\n};\n\nexport const fetchBreeds = (errorElement, loader) => {\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => {\n      if (!response.data || response.data.length === 0) {\n        throw new Error('No breeds data found');\n      }\n      return response.data;\n    })\n    .catch(error => {\n      displayError(errorElement, loader);\n      console.error(error);\n    });\n};\n\nexport const fetchCatByBreed = (breedId, errorElement, loader) => {\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => {\n      if (!response.data || response.data.length === 0) {\n        throw new Error(`No cat found for breed ID: ${breedId}`);\n      }\n      return response.data;\n    })\n    .catch(error => {\n      displayError(errorElement, loader);\n      console.error(error);\n    });\n};\n","import { fetchBreeds, fetchCatByBreed, displayError } from './cat-api.js';\nimport SlimSelect from 'slim-select';\n\nlet slimSelect = null;\nlet errorElement = null;\nlet loader = null;\n\nfunction createMarkup(cats) {\n  return cats\n    .map(cat => {\n      const { name, description, temperament } = cat.breeds[0];\n      return `\n        <div class=\"cat-card\">\n          <img class=\"cat-img\" src=\"${cat.url}\" alt=\"${name}\">\n          <div>\n            <h2>${name}</h2>\n            <p><span class=\"text-bold\">Description:</span> ${description}</p>\n            <p><span class=\"text-bold\">Temperament:</span> ${temperament}</p>\n          </div>\n        </div>\n      `;\n    })\n    .join('');\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  errorElement = document.querySelector('.error');\n  loader = document.querySelector('.loader');\n  const breedSelect = document.querySelector('.breed-select');\n  const catInfo = document.querySelector('.cat-info');\n\n  loader.style.display = 'block';\n\n  fetchBreeds(errorElement, loader)\n    .then(breeds => {\n      breeds.forEach(breed => {\n        const option = document.createElement('option');\n        option.value = breed.id;\n        option.textContent = breed.name;\n        breedSelect.appendChild(option);\n      });\n\n      slimSelect = new SlimSelect({\n        select: breedSelect,\n      });\n\n      breedSelect.style.display = 'block';\n      loader.style.display = 'none';\n      errorElement.style.display = 'none';\n    })\n    .catch(() => {\n      displayError(errorElement, loader);\n    });\n\n  breedSelect.addEventListener('change', event => {\n    loader.style.display = 'block';\n    errorElement.style.display = 'none';\n    catInfo.innerHTML = '';\n\n    fetchCatByBreed(event.target.value, errorElement, loader)\n      .then(cats => {\n        const markup = createMarkup(cats);\n        catInfo.innerHTML = markup;\n        loader.style.display = 'none';\n      })\n      .catch(() => {\n        displayError(errorElement, loader);\n      });\n  });\n});\n"],"names":["axios","displayError","errorElement","loader","fetchBreeds","response","error","fetchCatByBreed","breedId","createMarkup","cats","cat","name","description","temperament","breedSelect","catInfo","breeds","breed","option","SlimSelect","event","markup"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,MAAMC,EAAe,CAACC,EAAcC,IAAW,CAChDD,GAAgBC,GAClBD,EAAa,YACX,sDACFA,EAAa,MAAM,QAAU,QAC7BC,EAAO,MAAM,QAAU,QAEvB,QAAQ,MAAM,yCAAyC,CAE3D,EAEaC,EAAc,CAACF,EAAcC,IACjCH,EACJ,IAAI,qCAAqC,EACzC,KAAKK,GAAY,CAChB,GAAI,CAACA,EAAS,MAAQA,EAAS,KAAK,SAAW,EAC7C,MAAM,IAAI,MAAM,sBAAsB,EAExC,OAAOA,EAAS,IACtB,CAAK,EACA,MAAMC,GAAS,CACdL,EAAaC,EAAcC,CAAM,EACjC,QAAQ,MAAMG,CAAK,CACzB,CAAK,EAGQC,EAAkB,CAACC,EAASN,EAAcC,IAC9CH,EACJ,IAAI,wDAAwDQ,GAAS,EACrE,KAAKH,GAAY,CAChB,GAAI,CAACA,EAAS,MAAQA,EAAS,KAAK,SAAW,EAC7C,MAAM,IAAI,MAAM,8BAA8BG,GAAS,EAEzD,OAAOH,EAAS,IACtB,CAAK,EACA,MAAMC,GAAS,CACdL,EAAaC,EAAcC,CAAM,EACjC,QAAQ,MAAMG,CAAK,CACzB,CAAK,ECvCL,IAAIJ,EAAe,KACfC,EAAS,KAEb,SAASM,EAAaC,EAAM,CAC1B,OAAOA,EACJ,IAAIC,GAAO,CACV,KAAM,CAAE,KAAAC,EAAM,YAAAC,EAAa,YAAAC,CAAa,EAAGH,EAAI,OAAO,GACtD,MAAO;AAAA;AAAA,sCAEyBA,EAAI,aAAaC;AAAA;AAAA,kBAErCA;AAAA,6DAC2CC;AAAA,6DACAC;AAAA;AAAA;AAAA,OAI7D,CAAK,EACA,KAAK,EAAE,CACZ,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDZ,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAS,SAAS,cAAc,SAAS,EACzC,MAAMY,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAElDb,EAAO,MAAM,QAAU,QAEvBC,EAAYF,EAAcC,CAAM,EAC7B,KAAKc,GAAU,CACdA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BH,EAAY,YAAYI,CAAM,CACtC,CAAO,EAEY,IAAIC,EAAW,CAC1B,OAAQL,CAChB,CAAO,EAEDA,EAAY,MAAM,QAAU,QAC5BZ,EAAO,MAAM,QAAU,OACvBD,EAAa,MAAM,QAAU,MACnC,CAAK,EACA,MAAM,IAAM,CACXD,EAAaC,EAAcC,CAAM,CACvC,CAAK,EAEHY,EAAY,iBAAiB,SAAUM,GAAS,CAC9ClB,EAAO,MAAM,QAAU,QACvBD,EAAa,MAAM,QAAU,OAC7Bc,EAAQ,UAAY,GAEpBT,EAAgBc,EAAM,OAAO,MAAOnB,EAAcC,CAAM,EACrD,KAAKO,GAAQ,CACZ,MAAMY,EAASb,EAAaC,CAAI,EAChCM,EAAQ,UAAYM,EACpBnB,EAAO,MAAM,QAAU,MAC/B,CAAO,EACA,MAAM,IAAM,CACXF,EAAaC,EAAcC,CAAM,CACzC,CAAO,CACP,CAAG,CACH,CAAC"}