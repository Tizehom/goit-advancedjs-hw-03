{"version":3,"file":"commonHelpers.js","sources":["../src/index.js"],"sourcesContent":["import axios from 'axios';\nimport SlimSelect from 'slim-select';\n\nlet slimSelect = null;\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_BGHVXS9HRJW6rgW9IQYtalpwpiOTRRwNlGFWeCidmk1cMnZOsP2CCA8I8oCDINU9';\n\nfunction displayError() {\n  errorElement.textContent =\n    'Oops! Something went wrong! Try reloading the page!';\n  errorElement.style.display = 'block';\n  breedSelect.style.display = 'none';\n  loader.style.display = 'none';\n}\n\nconst fetchBreeds = () => {\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data)\n    .catch(error => {\n      displayError();\n      console.error(error);\n    });\n};\n\nconst fetchCatByBreed = breedId => {\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data)\n    .catch(error => {\n      displayError();\n      console.error(error);\n    });\n};\n\nfunction createMarkup(cats) {\n  return cats\n    .map(cat => {\n      const { name, description, temperament } = cat.breeds[0];\n      return `\n        <div class=\"cat-card\">\n          <img class=\"cat-img\" src=\"${cat.url}\" alt=\"${name}\">\n          <div>\n            <h2>${name}</h2>\n            <p><span class=\"text-bold\">Description:</span> ${description}</p>\n            <p><span class=\"text-bold\">Temperament:</span> ${temperament}</p>\n          </div>\n        </div>\n      `;\n    })\n    .join('');\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const breedSelect = document.querySelector('.breed-select');\n  const loader = document.querySelector('.loader');\n  const errorElement = document.querySelector('.error');\n  const catInfo = document.querySelector('.cat-info');\n\n  errorElement.style.display = 'none';\n\n  fetchBreeds()\n    .then(breeds => {\n      breeds.forEach(breed => {\n        const option = document.createElement('option');\n        option.value = breed.id;\n        option.textContent = breed.name;\n        breedSelect.appendChild(option);\n      });\n\n      slimSelect = new SlimSelect({\n        select: breedSelect,\n      });\n\n      loader.style.display = 'none';\n    })\n    .catch(() => displayError());\n\n  breedSelect.addEventListener('change', event => {\n    loader.style.display = 'block';\n    catInfo.innerHTML = '';\n    fetchCatByBreed(event.target.value)\n      .then(cats => {\n        const markup = createMarkup(cats);\n        catInfo.innerHTML = markup;\n        loader.style.display = 'none';\n      })\n      .catch(() => displayError());\n  });\n});\n"],"names":["axios","displayError","fetchBreeds","response","error","fetchCatByBreed","breedId","createMarkup","cats","cat","name","description","temperament","breedSelect","loader","errorElement","catInfo","breeds","breed","option","SlimSelect","event","markup"],"mappings":"6vBAKAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,SAASC,GAAe,CACtB,aAAa,YACX,sDACF,aAAa,MAAM,QAAU,QAC7B,YAAY,MAAM,QAAU,OAC5B,OAAO,MAAM,QAAU,MACzB,CAEA,MAAMC,EAAc,IACXF,EACJ,IAAI,qCAAqC,EACzC,KAAKG,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACdH,IACA,QAAQ,MAAMG,CAAK,CACzB,CAAK,EAGCC,EAAkBC,GACfN,EACJ,IAAI,wDAAwDM,GAAS,EACrE,KAAKH,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACdH,IACA,QAAQ,MAAMG,CAAK,CACzB,CAAK,EAGL,SAASG,EAAaC,EAAM,CAC1B,OAAOA,EACJ,IAAIC,GAAO,CACV,KAAM,CAAE,KAAAC,EAAM,YAAAC,EAAa,YAAAC,CAAa,EAAGH,EAAI,OAAO,GACtD,MAAO;AAAA;AAAA,sCAEyBA,EAAI,aAAaC;AAAA;AAAA,kBAErCA;AAAA,6DAC2CC;AAAA,6DACAC;AAAA;AAAA;AAAA,OAI7D,CAAK,EACA,KAAK,EAAE,CACZ,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAU,SAAS,cAAc,WAAW,EAElDD,EAAa,MAAM,QAAU,OAE7Bb,EAAa,EACV,KAAKe,GAAU,CACdA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BL,EAAY,YAAYM,CAAM,CACtC,CAAO,EAEY,IAAIC,EAAW,CAC1B,OAAQP,CAChB,CAAO,EAEDC,EAAO,MAAM,QAAU,MAC7B,CAAK,EACA,MAAM,IAAMb,EAAY,CAAE,EAE7BY,EAAY,iBAAiB,SAAUQ,GAAS,CAC9CP,EAAO,MAAM,QAAU,QACvBE,EAAQ,UAAY,GACpBX,EAAgBgB,EAAM,OAAO,KAAK,EAC/B,KAAKb,GAAQ,CACZ,MAAMc,EAASf,EAAaC,CAAI,EAChCQ,EAAQ,UAAYM,EACpBR,EAAO,MAAM,QAAU,MAC/B,CAAO,EACA,MAAM,IAAMb,EAAY,CAAE,CACjC,CAAG,CACH,CAAC"}